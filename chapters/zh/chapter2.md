# 第2章：关键实验

## 简单程序的行为如何？

科学上的新方向，通常源于某些核心的观察或实验。对于本书所描述的这门新科学而言，这些观察和实验关乎**简单程序的行为**。

在日常使用计算机的经验中，我们遇到的程序通常是为了执行非常明确的任务而设计的。但近二十年前我产生了一个关键想法——这个想法最终促成了本书中这门全新的科学——那就是去探究，如果我们不带任何特定任务的意图，只是观察随意选择的简单程序，会发生什么。这样的程序通常表现出怎样的行为？

过去主导理论科学的数学方法，对于回答这类问题帮助不大。但有了计算机，我们就可以直接通过实验来研究它。我们所要做的，仅仅是建立一系列可能的简单程序，然后运行它们，观察其行为。

任何程序在某种层面上都可以被看作是一套规则的集合，这些规则指定了程序在每一步应该做什么。设置这些规则的方式多种多样——实际上，在本书的进程中，我们将会研究其中的几种。但现在，我将考虑一类特殊的例子，称为[细胞自动机](annotation:cellular-automata)，这是我在1980年代初研究的第一类简单程序。

## 细胞自动机的可视化

细胞自动机的一个重要特性是，它们的行为可以很容易地以视觉方式呈现。下面的图片展示了一个细胞自动机在十个步骤中的演化过程。

![Rule 254](https://wolframscience.com/nks/images/rule-254-steps.gif)

这个细胞自动机由一行单元格组成，每个单元格的颜色非黑即白。在每一步，都有一个明确的规则根据一个给定单元格及其左右紧邻邻居在前一步的颜色，来决定该单元格的当前颜色。

对于这里展示的特定细胞自动机，规则规定——如下面的图片所示——在任何一个单元格或其任一邻居在前一步是黑色的情况下，该单元格在当前步骤中应为黑色。

![Rule 254 Diagram](https://wolframscience.com/nks/images/rule-254-diagram.png)

如页面顶部的图片所示，从中心的一个黑色单元格开始，这个规则导致了一个简单增长的、均匀填充黑色的模式。但只需对规则稍作修改，就能立刻得到一个不同的模式。

作为第一个例子，下方的图片展示了当规则变为“如果一个单元格的两个邻居在前一步都是白色，则该单元格变为白色——即使它自己之前是黑色的”时会发生什么。这个规则不再产生一个均匀填充黑色的图案，而是生成了一个像棋盘一样黑白交替的重复图案。

![Rule 250](https://wolframscience.com/nks/images/rule-250-steps.gif)

然而，这个图案同样相当简单。我们可能会假设，至少对于我们正在考虑的这类细胞自动机，我们选择的任何规则总是会产生一个相当简单的图案。但现在，我们将迎来第一个惊喜。

下面的图片展示了由一个与之前类型相同，但规则略有不同的细胞自动机产生的图案。

![Rule 90](https://wolframscience.com/nks/images/rule-90-steps.gif)

这一次，规则规定，当一个单元格的左邻居或右邻居——但不是两者同时——在前一步是黑色时，该单元格应为黑色。同样，这个规则无疑是简单的。但现在图片显示，它产生的图案却不那么简单。

如果我们让这个细胞自动机运行更多步骤，如下图所示，一个相当复杂的图案就会出现。但我们现在可以看到，这个图案具有非常明确的规律性。尽管它很复杂，但我们可以看到它实际上由许多嵌套的三角形部分组成，这些部分都具有完全相同的形式。并且，正如图片所示，这些部分中的每一个本质上都是整个图案的一个较小副本，内部以非常规则的方式嵌套着更小的副本。这种具有嵌套结构的图案通常被称为“[分形](annotation:fractals)”或“自相似”。

![Rule 90 Large](https://wolframscience.com/nks/images/rule-90-large.png)

因此，到目前为止我们看到的三个细胞自动机，最终都产生了高度规则的图案：第一个是简单的统一图案，第二个是重复图案，第三个是复杂但仍是嵌套的图案。我们可能会假设，至少对于我们一直在使用的这些规则一样简单的细胞自动机，这三种行为形式就是我们所能得到的全部。

但值得注意的是，事实证明这是错误的。

下面的图片展示了这样一个例子。所使用的规则——我称之为**[规则30](annotation:rule-30)**——与之前的规则完全属于同一类型，可以描述如下：首先，查看每个单元格及其右侧邻居。如果它们在前一步都是白色，则该单元格的新颜色将与其左侧邻居的前一颜色相同。否则，新颜色将是其左侧邻居前一颜色的反色。

![Rule 30](https://wolframscience.com/nks/images/rule-30-steps.gif)

这张图片展示了从一个黑色单元格开始，反复应用此规则后发生的情况。我们看到的是一些相当惊人的东西——可能是我有史以来做出的最令人惊讶的科学发现。我们可能期望得到一个简单的规则模式，但这个细胞自动机产生的模式看起来却极其不规则和复杂。

## 复杂性的起源

但这种复杂性从何而来？我们设置系统时，肯定没有以任何直接的方式将它植入。我们只是用了一个简单的细胞自动机规则，并从一个包含单个黑色单元格的简单初始条件开始。

然而图片显示，尽管如此，其行为中却出现了巨大的复杂性。实际上，我们在这里看到的是一个极其普遍和基本现象的第一个例子，这个现象正是我在这本书中发展的新科学的核心。我们将一次又一次地看到同样的事情：即使一个系统的底层规则很简单，即使系统从简单的初始条件开始，它所展示的行为仍然可以变得高度复杂。我将论证，正是这个基本现象最终导致了我们在自然界中看到的大部分复杂性。

接下来的两页展示了规则30细胞自动机演化过程中更多的步骤。人们可能曾以为，也许经过一千步之后，行为最终会简化为某种简单的东西。但接下来的两页图片显示，这种情况并未发生。

![Rule 30 More Steps](https://wolframscience.com/nks/images/rule-30-large.png)

尽管如此，还是可以观察到一些规律性。例如，在左侧，有明显的对角线带。并且在整个图案中散布着各种白色三角形和其他小结构。然而，考虑到底层规则的简单性，人们会期望看到更多的规律性。也许有人会想象，我们在接下来两页的图片中未能看到任何规律性，仅仅是反映了我们人类视觉系统的某种不足。

但事实证明，即使是最复杂的数学和统计分析方法似乎也无能为力。例如，我们可以观察初始黑细胞正下方的颜色序列。在这个序列的前一百万步中，它从未重复，实际上，我对其进行的所有测试都没有显示出任何与完美随机性有意义的偏离。

然而，在某种意义上，这种完美的随机性也存在一定的简单性。因为即使可能无法预测在任何特定步骤会发生什么颜色，但我们仍然知道，例如，黑色和白色平均总是以相等的频率出现。

## 规则110的复杂性

但事实证明，存在一些细胞自动机，其行为实际上更为复杂——在这些自动机中，即使是这样的平均值也变得非常难以预测。接下来几页的图片给出了一个相当引人注目的例子。规则的基本形式与之前完全相同。但现在使用的具体规则——我称之为**规则110**——规定，一个单元格的新颜色在所有情况下都应为黑色，除非前一步中该单元格及其两个邻居的颜色都相同，或者当左邻居是黑色而单元格本身及其右邻居都是白色时。

![Rule 110](https://wolframscience.com/nks/images/rule-110-steps.gif)

用这个规则得到的图案显示出规律性与不规律性的显著混合。或多或少地，整个图案中都有一个非常规则的背景纹理，由每7步重复一次的小白色三角形阵列组成。从左边缘开始，有以精确80步为间隔出现的对角条纹。

但在右侧，图案则要不规则得多。实际上，在最初几百步中，有一个区域看起来基本是随机的。但到第一页底部，这个区域剩下的只是三个相当简单的重复结构的副本。

然而，在下一页的顶部，从左侧来的对角条pre的到达再次引发了更复杂的行为。随着系统的演进，产生了各种明确的局部结构。

其中一些结构保持静止，就像第一页底部的那些，而另一些则以不同的速度稳定地向右或向左移动。它们各自独立地以相当简单的方式工作。但正如图片所示，它们之间的各种相互作用可能会产生非常复杂的效果。

结果是，要预测——哪怕是近似预测——这个细胞自动机将会做什么，变得几乎不可能。

所有产生的结构最终会相互湮灭，只留下一个非常规则的图案吗？还是会出现越来越多的结构，直到整个图案变得完全随机？

看来，回答这些问题的唯一可靠方法，就是运行细胞自动机所需数量的步骤，然后观察会发生什么。事实证明，在所示的特定情况下，结果在大约2780步后最终变得清晰：一个结构存活下来，并且该结构与从左侧来的周期性条纹相互作用，产生了每240步重复一次的行为。

无论一个人多么确信简单的程序永远只能产生简单的行为，过去几页的图片应该永远打消这个念头。实际上，关于这些图片，也许最奇怪的是，它们最终几乎没有显示出产生它们的底层细胞自动机规则的简单性的痕-迹。

例如，人们可能会认为，细胞自动机中所有单元格都遵循完全相同的规则，这意味着在像最后几页那样的图片中，所有单元格都应该以某种明显相同的方式行事。但相反，它们似乎在做着完全不同的事情。例如，其中一些是规则背景的一部分，而另一些则是一个或另一个局部结构的一部分。而使这成为可能的是，即使单个单元格遵循相同的规则，具有不同颜色序列的单元格的不同配置也可以共同产生各种不同类型的行为。

仅仅看原始的细胞自动机规则，我们没有现实的方法来预见所有这一切。但是通过进行适当的计算机实验，我们可以很容易地发现实际发生的情况——并实际上开始探索一个与简单程序相关的非凡现象的全新世界。

## 新直觉的需求

前一节的图片清楚地表明，只需要非常简单的规则就能产生高度复杂的行为。然而，起初这可能看起来几乎难以置信。因为它违背了我们一些关于事物通常如何运作的最基本的直觉。

因为我们的日常经验使我们期望，看起来复杂的东西必须是以复杂的方式构建的。因此，例如，如果我们看到一个复杂的机械设备，我们通常会假设制造该设备的蓝图也必须相应地复杂。

但上一节末尾的结果表明，至少有时候，这样的假设可能是完全错误的。因为我们看到的图案实际上是根据非常简单的计划构建的——这些计划只是告诉我们从一个黑色的单元格开始，然后重复应用一个简单的细胞自动机规则。然而，从这些计划中涌现出来的东西却显示出巨大的复杂性。

那么，是什么让我们的正常直觉失效呢？最重要的似乎是，它主要来源于建造东西和进行工程的经验——在这些领域，我们恰好会避免遇到像上一节那样的系统。

因为通常我们从我们想要得到的任何行为开始，然后尝试设计一个能够产生这种行为的系统。然而，要可靠地做到这一点，我们必须将自己限制在那些我们能够轻易理解和预测其行为的系统上——因为除非我们能预见一个系统将如何行为，否则我们无法确定该系统会做我们想让它做的事。

但与工程不同，自然界在这样的约束下运作。因此，没有什么能阻止像上一节末尾那样的系统出现。事实上，本书的重要结论之一是，这样的系统在自然界中实际上非常普遍。

但是，因为我们通常意识到潜在规则和整体行为的唯一情况是我们建造东西或进行工程的情况，所以我们通常不会对上一节末尾那样的系统产生任何直觉。

那么，日常经验中是否有任何方面应该给我们一些关于这些系统中发生现象的提示呢？可能最接近的是思考实际计算的特性。

因为我们知道计算机可以执行许多复杂的任务。然而，在基本硬件层面，一台典型的计算机只能执行几十种简单的逻辑、算术和其他指令。在某种程度上，通过执行大量这样的指令可以获得各种复杂行为，这与我们在细胞自动机中看到的现象相似。

但有一个重要的区别。虽然计算机执行的单个机器指令可能非常简单，但由程序定义的这些指令的序列可能又长又复杂。实际上——就像在其他工程领域一样——在软件开发中的典型经验是，要让计算机做一些复杂的事情，需要建立一个本身也相应复杂的程序。

在像细胞自动机这样的系统中，底层规则可以被认为是计算机机器指令的粗略类比，而初始条件可以被认为是程序的粗略类比。然而，我们在上一节看到的是，在细胞自动机中，不仅底层规则可以很简单，初始条件也可以很简单——比如只包含一个黑色的单元格——而产生的行为仍然可以高度复杂。

因此，虽然实际计算为我们所见的一部分提供了一些提示，但整个现象要大得多、强得多。在某种意义上，它最令人困惑的方面似乎是它涉及到无中生有。

因为我们建立的细胞自动机在任何衡量标准下都描述简单。然而，当我们运行它们时，我们最终得到的图案如此复杂，以至于它们似乎无法用任何简单的描述来概括。

人们可能希望能够借助某种现有的直觉来理解这样一个基本现象。但事实上，似乎没有任何日常经验的分支能提供所需的东西。因此，我们别无选择，只能尝试发展一种全新的直觉。

而要做到这一点，唯一合理的方法就是让我们自己接触大量的例子。到目前为止，我们只看到了几个例子，全都在细胞自动机中。但在接下来的几章中，我们将看到更多的例子，既有细胞自动机的，也有各种其他系统的。通过吸收这些例子，人们最终能够发展出一种直觉，使我发现的基本现象看起来几乎是显而易见和不可避免的。

## 为何这些发现之前未被做出

本章的主要结果——基于简单规则的程序可以产生巨大复杂性的行为——似乎如此基本，以至于人们可能会认为它一定在很久以前就被发现了。但事实并非如此，理解其原因是有用的。

在科学史上，新技术最终推动基础科学新领域的发展是相当普遍的。因此，例如，望远镜技术导致了现代天文学，显微镜技术导致了现代生物学。现在，同样地，是计算机技术导致了我在这本书中描述的新科学。

实际上，本章以及接下来的几章在某种意义上可以被看作是可以用计算机完成的一些最简单实验的记述。但为什么这样简单的实验以前从未做过呢？

一个原因仅仅是它们不属于任何现有科学或数学领域的主流。但一个更重要的原因是，传统科学中的标准直觉没有理由认为它们的结果会很有趣。

实际上，如果人们知道它们是值得的，许多实验甚至在计算机出现之前很久就可以完成。虽然可能有些乏味，但用手计算出像细胞自动机这样的东西的行为当然是可能的。事实上，这样做绝对不需要来自数学或其他地方的任何复杂思想：所需要的只是理解如何重复应用简单的规则。

看看下一页上装饰艺术的历史例子，似乎没有理由认为许多细胞自动机的行为在几个世纪甚至几千年前就不能被计算出来。也许有一天，会出土一件使用第27页的规则30细胞自动机创造的巴比伦文物。但我非常怀疑。因为我倾向于认为，如果像第27页那样的图片在古代真的被看到过，那么科学就会走上一条与它实际所走的截然不同的道路。
